---
title: "PS270 Final Project"
author: "Liam J Meyer"
description: "WIP Final Project"
output:
  distill::distill_article:
    self_contained: false
---

## Official Final Introduction

  In this project I will be analyzing political polarization over time, with a particular focus on modern times. My research question for the project is: "Did political polarization increase significantly around the time of Donald Trump's campaign and presidency?". My hypothesis is that sometime before or after Donald Trump's election political polarization drastically increased. 
  This is a particularly interesting question because of the political group known as "MAGA", or "Make America Great Again". This group formed in direct response to Donald Trump's presidential campaign, and many members are very politically polarized. It is unknown, however, whether people became very polarized at the same time as this group was formed, or if this group merely attracted and served as an outlet for people who were already polarized. 

## Official Final Data Section

  Two data sources are used in this project. The first is the "U.S. Partisanship and Presidential Approval Dataset" from RoperCenter, which contains approval rates from 1948 to 2020. The key dependent variable in this analysis is political polarization. Political polarization will be measured through cross-party approval, with a lower level of cross-party presidential approval implying a higher level of political polarization. The independent variable will be the year, and my research question will be answered depending on when and if there is a jump in political polarization. The information used for these variables was gathered through various surveys. 
  This project uses a Before and After research design. This means there is one group that is tested before and after the "treatment". Given that in this case the treatment is the presidential election, there is no way to create a control group. Without a control group it is impossible to use a differences-in-differences or cross-sectional research design, and the differences-in-differences research design is typically seen as the most accurate or reliable. Luckily, the samples go back long enough that an average increase in political polarization over time can be constructed, and a statistically significant spike in political polarization would be a visible outlier.

```{r data extraction, echo=FALSE}
library(tidyverse)
library(ggplot2)
Approval_pres <- read_csv("31120311.csv")
vote_2024 <- read_csv("president_polls.csv")
```

```{r Approval graph data, echo=FALSE}
Approval_pres <- Approval_pres |>
  mutate(pres_party = case_when(year >= 1948 & year < 1953 ~ "D",
                                year >= 1954 & year < 1961 ~ "R",
                                year >= 1962 & year < 1968 ~ "D",
                                year >= 1970 & year < 1977 ~ "R",
                                year >= 1978 & year < 1980 ~ "D",
                                year >= 1982 & year < 1992 ~ "R",
                                year >= 1993 & year < 2001 ~ "D",
                                year >= 2002 & year < 2009 ~ "R",
                                year >= 2010 & year < 2017 ~ "D",
                                year >= 2018 ~ "R",
                                year == 1953 ~ "Party Change",
                                year == 1961 ~ "Party Change",
                                year == 1968 ~ "Party Change",
                                year == 1977 ~ "Party Change",
                                year == 1980 ~ "Party Change",
                                year == 1992 ~ "Party Change",
                                year == 2001 ~ "Party Change",
                                year == 2009 ~ "Party Change",
                                year == 2017 ~ "Party Change"))
approval_graph1 <- Approval_pres |>
  filter(!is.na(pres_party)) |>
  group_by(year, pres_party) |>
  mutate(pres_approve2 = if_else(pres_approve2 == "1 Approve", 1, 0)) |>
  summarize(approval_mean = mean(pres_approve2, na.rm = T))
```

```{r approval line graph, echo=FALSE}
Milestone3_graph <- approval_graph1 |>
  ggplot(aes(x = year, y = approval_mean, group = 1)) +
  geom_line(aes(color = pres_party)) +
  scale_color_manual(values = c("royalblue3", "grey1", "indianred2"), name = "Political Party", labels = c("Democrat", "Party Change", "Republican")) +
  labs(x = "Year",
       y = "Average Approval",
       title = "Presidential Approval Over Time",
       subtitle = "By Liam Meyer")
```

```{r approval cross_party variable, echo=FALSE}
Approval_pres_noind <- Approval_pres |>
  filter(dem_rep != "-99 N/A, Independent, Other") |>
  mutate(cross_party_approval = if_else(pres_approve2 == "1 Approve" &
                                      democrat == "1 Dem" &
                                      pres_party == "R" |
                                      pres_approve2 == "1 Approve" &
                                      republican == "1 Rep" &
                                      pres_party == "D", 1, 0))
```
  
```{r approval bar graph, echo=FALSE}
Cross_Party_Graph1 <- Approval_pres_noind |>
  group_by(year, pres_party) |>
  summarize(cross_mean = mean(cross_party_approval, na.rm = T)) |>
  filter(!is.na(pres_party)) |>
  ggplot(aes(x = year, y = cross_mean)) +
  geom_col(aes(fill = pres_party)) +
  scale_fill_manual(values = c("royalblue3", "grey1", "indianred2"), name = "Political Party", labels = c("Democrat", "Party Change", "Republican")) +
  theme_bw() +
  labs(x = "Year",
       y = "Average Cross Party Approval",
       title = "Cross Party Approval Over Time",
       subtitle = "By Liam Mayer",
       caption = "Data from RoperCenter")
Cross_Party_Graph1
```

  The graph above shows the average cross-party approval rating from 1948 to 2020, with the colors representing the political party of the President. Election years where the political party of the president changed are omitted from this graph because the dataset uses surveys from multiple times throughout the year, so some of the approval ratings would be from before the new president is sworn into office and some would be from after that point. This graph shows a few interesting factors to take into consideration. The first is that there is a downward trend in cross party approval over time, implying a general increase in political polarization over time. The second is that democrats tend to be more approving of republican presidents then republicans are of democrat presidents.
  
## Results of Analysis

  By adding a linear regression model for cross-party approval of just democrats, just republicans, and a combination of both it should be possible to see if or when there was a large spike in political polarization.

```{r lm approal, echo=FALSE}
dem_vote_app <- Approval_pres_noind |>
  filter(dem_rep == "1 Democrat")

demvtr_app_lm <- lm(cross_party_approval ~ year, data = dem_vote_app)

rep_vote_app <- Approval_pres_noind |>
  filter(dem_rep == "0 Republican")

repvtr_app_lm <- lm(cross_party_approval ~ year, data = rep_vote_app)

allvtr_app_lm <- lm(cross_party_approval ~ year, data = Approval_pres_noind)

coefficients(demvtr_app_lm)
```


```{r lm graph, echo=FALSE}
Approval_pres_noind |>
  group_by(year, pres_party) |>
  summarize(cross_mean = mean(cross_party_approval, na.rm = T)) |>
  filter(!is.na(pres_party)) |>
  ggplot() +
  geom_abline(aes(intercept = 3.715650663, slope = -0.001808066, color = "slateblue")) +
  geom_abline(aes(intercept = 3.439183777, slope = -0.001683132, color = "indianred3")) +
  geom_abline(aes(intercept = 3.685898008, slope = -0.001799165,color = "mediumorchid")) +
  geom_col(aes(x = year, y = cross_mean, fill = pres_party)) +
  scale_fill_manual(values = c("royalblue3", "grey1", "indianred2"), name = "President Party", labels = c("Democrat", "Party Change", "Republican")) +
  scale_color_manual(values = c("indianred3", "mediumorchid", "slateblue"), name = "Voter Party", labels = c("Republican", "Both", "Democrat")) +
  theme_bw() +
  labs(x = "Year",
       y = "Average Cross Party Approval",
       title = "Cross Party Approval Over Time",
       subtitle = "By Liam Mayer",
       caption = "Data from RoperCenter")
```



## Project thoughts

I might look at data on party affiliation in the 2016, 2020, and 2024 elections. The 2020 and 2024 elections were/are very charged, with many people discussing them. It would be interesting to see whether there was a large jump in party affiliation between the 2016 and 2020 elections, and then if there was another jump in between the 2020 and 2024 elections.

## Research Question and Notes

  My research question for this final project will be "Did political polarization increase significantly during Donald Trump's presidency?". My hypothesis is that political polarization significantly increased during the 2016-2020 presidency, and has been maintained into the 2024 election. Donald Trump's presidency brought with it a large amount of merchandise and activity on social media, particularly on what was formerly Twitter, now X. This led to the creation of a group commonly referred to as "MAGA". The question I present today is inspired by whether these occurrences are a product of increased political polarization, or if they have simply made already polarized people more clearly visible. I will be using two data sets in my project. One is the "U.S. Partisanship and Presidential Approval Dataset" from RoperCenter, and the other is a collection of polls gathered on Fivethirtyeight. The reason I will be using two datasets is because the RoperCenter dataset only has information going to the 2020 election, while the Fivethirtyeight dataset only includes information from the ongoing 2024 election. Up to the 2020 election I will be comparing an individual's self-reported party affiliation with their approval of a president. A high amount of individuals from one party reporting approval for a president from another party would imply a low political polarization, as people are willing to look beyond party lines and evaluate presidents based on their actions. For the 2024 election, I will be comparing an individual's self-reported party affiliation with who they plan to vote for. If many individuals who identify as part of one party are voting for a president of a different party, then political polarization should be low. Admittedly this is not a perfect comparison between datasets, but I believe this to be acceptable because the primary point of interest is the 2016 and 2020 elections, and the 2024 election will likely act as supplementary material. If the 2016 or 2020 election polls show much lower cross-party approval rates than previous elections, then my hypothesis will be proven right. If cross-party approval rates did not significantly lower in the 2016 or 2020 elections then my hypothesis would be wrong.
  
## Data Visualization

This graph shows the average proportion of people who approved of the president at a point in time, with 1 being everyone approved of the president and 0 being no one did. My final project will likely contain a graph like this on but with an addition of a line showing the proportion of people from specifically the opposing political party who approved of the president. 

  
## Visualization and Analysis 1
  
 
  
  This graph shows the proportion of people who approved of a president from a political party other than their own. Unfortunately, the surveys used only provided the year they were taken, not the specific date, so years where the political party of the president changed are omitted from this graph. As can be seen here, the highest proportion of cross-party approval came in 1954, where almost 25% of Democrat voters approved of the Republican president. Republican voters appear to have a lower average cross-party approval rating no matter what year it is, but the early 2000s seems to mark a point where cross-party approval goes down drastically. It is therefore possible to assume that the 2000s marked a point where political polarization began drastically increasing. Therefore my initial hypothesis, that political polarization increased drastically around 2016, was incorrect. Instead, it appears as though some event or series of events in the early 2000s led to a drastically increased amount of political polarization visualized by a much lower cross-party approval rating in this graph.
  
## Links to the Datasets
  
  https://ropercenter.cornell.edu/ipoll/study?doi=10.25940/ROPER-31120311 (Ropercenter 2020 and earlier presidential approval rates)
  
  https://projects.fivethirtyeight.com/polls-page/data/president_polls.csv (FiveThirtyEight 2024 poll dataset)